<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <title>JQuery FormUrlEncoded example</title>
    <script type="text/javascript" src="~/Scripts/jquery-2.0.3.min.js"></script>
    <script type="text/javascript" src="~/Scripts/Mvc.js"></script>
    <script type="text/javascript">
            $(document).ready(function () {
                $('#personButton').click(function () {
                    var data = {
                        Name: 'SamplePerson',
                        Address: {
                            Street: 'SampleStreet',
                            City: "SampleCity",
                            State: "SampleState",
                            Pin: 11
                        },
                        PastJobs: [
                            {
                                JobTitle: "SampleJob1",
                                EmployerName: 'Employer1',
                                YearsOfExperience: 2
                            },
                            {
                                JobTitle: "SampleJob2",
                                EmployerName: 'Employer2',
                                YearsOfExperience: 4
                            },
                            {
                                JobTitle: "SampleJob3",
                                EmployerName: 'Employer3',
                                YearsOfExperience: 1
                            }
                        ]
                    };

                    $.post('@Url.Action("IsValidPerson", "FormUrlEncoded")', Mvc.stringify(data)).done(function (result) {
                        if (result)
                        {
                            $("#validPerson").html("The submitted data belongs to a valid person.");
                        }
                        else
                        {
                            $("#validPerson").html("The submitted data is invalid.");
                        }
                    });
                });
            });
    </script>
</head>
<body>
    <button id="personButton" type="button">Click here to post person data</button><br /><br />
    <p id="validPerson" />
</body>
</html>
